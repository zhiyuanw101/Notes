#! https://zhuanlan.zhihu.com/p/146173523
# 【操作系统1】--进程管理
主要参考：[CS-Notes](https://cyc2018.github.io/CS-Notes/)
## 进程与线程
提高并发度
### 1. 进程（Process）
- 进程是资源分配的基本单位
- 有独立地址空间
- 不同进程间数据很难共享
### 2. 线程（Thread）
- 线程是CPU独立调度的基本单位
- 有独立堆栈，局部变量，无单独地址空间
- 线程是进程的一个实体，一个进程中可以有多个线程，它们共享进程资源
- 同一进程下不同线程间数据很易共享
### 3. 关系
1. 拥有资源
- 进程是资源分配的基本单位，但是线程不拥有资源，线程可以访问隶属进程的资源。
2. 调度
- 线程是独立调度的基本单位，在同一进程中，线程的切换不会引起进程切换，从一个进程中的线程切换到另一个进程中的线程时，会引起进程切换。
3. 开销
- 由于创建或撤销进程时，系统都要为之分配或回收资源，如内存空间、I/O 设备等，所付出的开销远大于创建或撤销线程时的开销。类似地，在进行进程切换时，涉及当前执行进程 CPU 环境的保存及新调度进程 CPU 环境的设置，而线程切换时只需保存和设置少量寄存器内容，开销很小。
4. MISC
- 进程间不会相互影响，一个线程挂掉将导致整个进程挂掉
- 进程可以拓展到多机，进程最多适合多核
- 线程共享了进程上下文环境，为更细小的CPU时间段

## 进程状态切换
![](./ProcessState.png)
- 就绪状态（ready）：等待调度
    - 获得除了CPU外一切资源
- 运行状态（running）
    - 在CPU上运行
- 阻塞状态（waiting）：等待资源
    - 等待I/O等
**Note：**
- 只有就绪态和运行态可以相互转换，其它的都是单向转换。就绪状态的进程通过调度算法从而获得 CPU 时间，转为运行状态；而运行状态的进程，在分配给它的 CPU 时间片用完之后就会转为就绪状态，等待下一次调度。
- 阻塞状态是缺少需要的资源从而由运行状态转换而来，但是该资源不包括 CPU 时间，缺少 CPU 时间会从运行态转换为就绪态

## [进程调度算法](https://cyc2018.github.io/CS-Notes/#/notes/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%20-%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86?id=%e8%bf%9b%e7%a8%8b%e8%b0%83%e5%ba%a6%e7%ae%97%e6%b3%95)

### 1. 批处理系统
没有太多用户操作，目标保证吞吐量，周转时间
#### 1.1 先来先服务 first-come first-serverd（FCFS）
#### 1.2 短作业优先 shortest job first（SJF）
#### 1.3 最短剩余时间优先 shortest remaining time next（SRTN）
### 2. 交互式系统
大量用户交互操作，目标快速响应
#### 2.1 时间片轮转
#### 2.2 优先级调度
#### 2.3 多级反馈队列
### 3. 实时系统
一个请求在一个确定时间得到相应

## 进程同步